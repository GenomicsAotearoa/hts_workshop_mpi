<!DOCTYPE html><html lang="en" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="MPI, Genomics Aotearoa &amp; NeSI">
      
      
        <link rel="canonical" href="https://genomicsaotearoa.github.io/hts_workshop_mpi/level2/12_shell_variables/">
      
      
        <link rel="prev" href="../11_shell_manipulation/">
      
      
        <link rel="next" href="../13_shell_redirection/">
      
      
      <link rel="icon" href="../../theme_images/icon_fig.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>1.2 - Working with variables and loops - High Throughput Sequencing</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mukta:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Mukta";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#12-working-with-variables-and-loops" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="High Throughput Sequencing" class="md-header__button md-logo" aria-label="High Throughput Sequencing" data-md-component="logo">
      
  <img src="../../theme_images/icon_fig.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            High Throughput Sequencing
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              1.2 - Working with variables and loops
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="indigo" aria-label="Switch to system preference" type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/GenomicsAotearoa/hts_workshop_mpi" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    GenomicsAotearoa/hts_workshop_mpi
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../level1/11_nesi_connection/" class="md-tabs__link">
          
  
  
  Level1

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../11_shell_manipulation/" class="md-tabs__link">
          
  
  
  Level2

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../proficiency/2023_proficiency/" class="md-tabs__link">
          
  
  
  Proficiency

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../supplementary/common_terms/" class="md-tabs__link">
          
  
  
  Supplementary

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="High Throughput Sequencing" class="md-nav__button md-logo" aria-label="High Throughput Sequencing" data-md-component="logo">
      
  <img src="../../theme_images/icon_fig.png" alt="logo">

    </a>
    High Throughput Sequencing
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/GenomicsAotearoa/hts_workshop_mpi" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    GenomicsAotearoa/hts_workshop_mpi
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2">
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Level1
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Level1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../level1/11_nesi_connection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.1 - Connecting to NeSI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../level1/12_shell_navigation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.2 - Introducing the shell
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../level1/13_shell_manipulation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.3 - Manipulating files in the shell
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../level1/21_illumina_inspection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.1 - Assesing Illumina data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../level1/22_illumina_filtering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.2 - Filtering Illumina data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../level1/31_nanopore_inspection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2 - Assesing Nanopore data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../level1/32_nanopore_filtering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2 - Filtering Nanopore data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../level1/41_blastn_annotation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.1 - Annotating with BLAST
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../level1/42_slurm_introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.2 - Introduction to slurm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../level1/43_blast_interpretation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.3 - Interpreting BLAST results
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Level2
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Level2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../11_shell_manipulation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.1 - Manipulating files in the shell
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    1.2 - Working with variables and loops
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    1.2 - Working with variables and loops
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#objectives" class="md-nav__link">
    <span class="md-ellipsis">
      Objectives
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keypoints" class="md-nav__link">
    <span class="md-ellipsis">
      Keypoints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-are-variables-and-why-do-we-need-them" class="md-nav__link">
    <span class="md-ellipsis">
      What are variables and why do we need them
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#declaring-variables-and-accessing-their-values" class="md-nav__link">
    <span class="md-ellipsis">
      Declaring variables and accessing their values
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-loops-using-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Writing loops using variables
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extending-our-loop-with-multiple-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Extending our loop with multiple variables
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../13_shell_redirection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.3 - Working with redirection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../14_nesi_environment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.4 - The NeSI computing environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../21_assembly_de_novo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.1 - Genome Assembly
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../22_assembly_spades/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.2 - Assembling short-read Illumina data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../23_assembly_flye/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.3 - Assembling Oxford Nanopore data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../24_assembly_evaluation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.3 - Evaluating the results of an assembly
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../25_assembly_polishing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.5 - Polishing of Oxford Nanopore assemblies
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../31_coverage_mapping/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.1 - Overview of mapping sequences to a reference genome
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../32_illumina_mapping/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2 - Mapping Illumina sequences to a reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../33_nanopore_mapping/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.3 - Mapping Oxford Nanopore sequences to a reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../34_mapping_filters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.4 - Filtering and compressing sam files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../35_mapping_statistics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.5 - Summarising coverage information from a mapping file
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../41_annotation_overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.1 - Prediction of protein coding sequences
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../42_annotation_prodigal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.2 - Prediction with prodigal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../43_annotation_augustus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.3 - Prediction with AUGUSTUS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../44_annotation_protein/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.4 - Protein annotation with BLAST-like methods
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../45_annotation_kraken2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.5 - Classification of sequences with k-mer composition profiles
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4">
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Proficiency
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Proficiency
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../proficiency/2023_proficiency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2023 Level 2 proficiency testing (version 1)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../proficiency/2023_proficiency_alternate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2023 Level 2 proficiency testing (version 2)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5">
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Supplementary
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Supplementary
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../supplementary/common_terms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Common terms
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../supplementary/fastq_format/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The FASTQ file format
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../supplementary/slurm_module_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Slurm module guide
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#objectives" class="md-nav__link">
    <span class="md-ellipsis">
      Objectives
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keypoints" class="md-nav__link">
    <span class="md-ellipsis">
      Keypoints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-are-variables-and-why-do-we-need-them" class="md-nav__link">
    <span class="md-ellipsis">
      What are variables and why do we need them
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#declaring-variables-and-accessing-their-values" class="md-nav__link">
    <span class="md-ellipsis">
      Declaring variables and accessing their values
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-loops-using-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Writing loops using variables
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extending-our-loop-with-multiple-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Extending our loop with multiple variables
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="12-working-with-variables-and-loops">1.2 - Working with variables and loops<a class="headerlink" href="#12-working-with-variables-and-loops" title="Permanent link">¶</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">¶</a></h2>
<div class="admonition clock">
<p class="admonition-title">time</p>
<ul>
<li>Teaching: 15 minutes</li>
<li>Exercises: 30 minutes</li>
</ul>
</div>
<div class="admonition circle-info">
<p class="admonition-title">Objectives and Key points</p>
<h4 id="objectives">Objectives<a class="headerlink" href="#objectives" title="Permanent link">¶</a></h4>
<ul>
<li>Understand how to declare and print variables in the <code>bash</code> environment.</li>
<li>Create a simple loop that performs an operation on a set of files or variables.</li>
</ul>
<h4 id="keypoints">Keypoints<a class="headerlink" href="#keypoints" title="Permanent link">¶</a></h4>
<ul>
<li>Variables are used when we require the computer to temporarily store a piece of information, particularly in the value of the information can change over time.</li>
<li><code>for</code> loops can be used to automatically repeat a command, or set of commands, over a set of input values or files.</li>
</ul>
</div>
<hr>
<h2 id="what-are-variables-and-why-do-we-need-them">What are variables and why do we need them<a class="headerlink" href="#what-are-variables-and-why-do-we-need-them" title="Permanent link">¶</a></h2>
<p>Variables are one of the most fundamental aspects of writing code and scripts. Before explaining what one is, think back to our previous exercises in <code>bash</code> when we were searching for particular nucleotide sequences in a fastq file using the <code>grep</code> tool (<a href="../11_shell_manipulation/#searching-files-using-grep">here</a>). The commands we ran were perfectly fine, but would only ever work for that one nucleotide sequence in that one fastq file.</p>
<p>If we wanted to search the same file for a different nucleotide pattern, or search multiple files for the same pattern we would have to rewrite the command and change part of the statement to the new requirement. For simple commands, or commands which we only need to perform once, this is fine but as you rely more and more on the command line it's really helpful to outsource as much work as possible to the command line rather then doing it all yourself.</p>
<p>This is the fundamental idea of variables - we are getting the computer to store a piece of information (file name, sqeuence motif, number) which may change over time to be used or reused over successive commands. What's important about this is that unlike the <code>grep</code> examples in the previous exercise, over time the content that the variable represents may change. If we revisit the command from the previous exercise:</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nb">cd</span><span class="w"> </span>/nesi/project/nesi03181/phel/USERNAME/level2/shell_data/
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>grep<span class="w"> </span>NNNNNNNNNN<span class="w"> </span>SRR098026.fastq
</code></pre></div>
</div>
<details class="file-code">
<summary>Output (last 10 lines)</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>TNNNNNNNNNTAAAATAAANNNNNNNNNNNAANNN
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>CNNNNNNNNNTTGGTGCTGNNNNNNNNNNNAANNN
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>ANNNNNNNNNAAAAAAAAANNNNNNNNNNNAANNN
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>GNNNNNNNNNTGGCACAATNNNNNNNNNNNCGNNN
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>TNNNNNNNNNCGTGGAATTNNNNNNNNNNNATNNN
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>ANNNNNNNNNGCATTAAACGNNNNNNNNNNCANTN
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>GNNNNNNNNNATCAAAAAGCNNNNNNNNNNGTNAN
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>ANNNNNNNNNGTGGCAATATNNNNNNNNNNCCNGN
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>ANNNNNNNNNTTCAGCGACTNNNNNNNNNNGTNGN
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>CNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
</code></pre></div>
</details>
<p>We could run this command a thousand times and it would always return the same result. If we were instead to create a variable which represented this sequence, the value that it represents could be changed over time, giving a different result each time the command was run. Without worry about the syntax for declaring or accessing the variable (which we will cover in the sections below), consider the following code:</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nv">MOTIF</span><span class="o">=</span><span class="s2">"NNNNNNNNNN"</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>grep<span class="w"> </span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span><span class="w"> </span>SRR098026.fastq
</code></pre></div>
</div>
<details class="file-code">
<summary>Output (last 10 lines)</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>TNNNNNNNNNTAAAATAAANNNNNNNNNNNAANNN
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>CNNNNNNNNNTTGGTGCTGNNNNNNNNNNNAANNN
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>ANNNNNNNNNAAAAAAAAANNNNNNNNNNNAANNN
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>GNNNNNNNNNTGGCACAATNNNNNNNNNNNCGNNN
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>TNNNNNNNNNCGTGGAATTNNNNNNNNNNNATNNN
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>ANNNNNNNNNGCATTAAACGNNNNNNNNNNCANTN
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>GNNNNNNNNNATCAAAAAGCNNNNNNNNNNGTNAN
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>ANNNNNNNNNGTGGCAATATNNNNNNNNNNCCNGN
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>ANNNNNNNNNTTCAGCGACTNNNNNNNNNNGTNGN
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>CNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
</code></pre></div>
</details>
<p>While that statement may remain untouched and be reused over time, the line contains a variable called <code>MOTIF</code> which represents a dynamic value. This value might change over time, such that the same <code>grep</code> command will return different results. For example:</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nv">MOTIF</span><span class="o">=</span><span class="s2">"NNNNNNNNNN"</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>grep<span class="w"> </span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span><span class="w"> </span>SRR098026.fastq
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="nv">MOTIF</span><span class="o">=</span><span class="s2">"ATCGATCGAT"</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>grep<span class="w"> </span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span><span class="w"> </span>SRR098026.fastq
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="nv">MOTIF</span><span class="o">=</span><span class="s2">"TTTTTTTTTT"</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>grep<span class="w"> </span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span><span class="w"> </span>SRR098026.fastq
</code></pre></div>
</div>
<p>Why we need this technique can seem a little bit abstract at this stage but think of it like this - when you are performing routine diagnostic work, you will refer to the appropriate SOP detailing how a particular test is performed. If it is a PCR, for example, the SOP will detail the exact primer sequences to use, which chemicals to include in the reaction, the cycling conditions (temperatures, durations, and number of cycles).</p>
<p>However, the SOP does not tell you the name of the sample you are handling or what host it comes from. This is obviously because the SOP does not know specifically which sample the diagnostician is going to be working with but the instructions are applicable across many different samples. Using variables allows us to achieve this effect in a coding environment. We can have specific, unchanging (hardcoded) rules written out as above, but then use variables as placeholder values which can be changed on a per-sample basis.</p>
<hr>
<h2 id="declaring-variables-and-accessing-their-values">Declaring variables and accessing their values<a class="headerlink" href="#declaring-variables-and-accessing-their-values" title="Permanent link">¶</a></h2>
<p>The code examples above declared a variable called <code>MOTIF</code> and assigned several pieces of information to it over time. We're now going to dive into that process in more detail. To begin with, we'll just copy the example above and create a variable named <code>MOTIF</code> and assign the text 'NNNNNNNNNN' to it. Type the following into the command line:</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nv">MOTIF</span><span class="o">=</span><span class="s2">"NNNNNNNNNN"</span>
</code></pre></div>
</div>
<p>And it's done. You have now created a variable named 'MOTIF'. This variable represents a location in the computers memory, at which the text 'NNNNNNNNNN' is stored. If we want to view the content of the 'MOTIF' variable we can use the <code>echo</code> command.</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nb">echo</span><span class="w"> </span>MOTIF
</code></pre></div>
</div>
<details class="success">
<summary>Output</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>MOTIF
</code></pre></div>
</details>
<p>What do you notice when you run this command. You see the word 'MOTIF' (the name of the variable) and not the value 'NNNNNNNNNN' (the value it is meant to contain) printed to the console. This happens because when working from the command line by default everything we enter into the terminal is considered a literal instruction to the computer. There is a specific notation required when we need to computer to understand that we are using a variable:</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span>
</code></pre></div>
</div>
<details class="success">
<summary>Output</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>NNNNNNNNNN
</code></pre></div>
</details>
<p>In this case, the value of the variable <code>MOTIF</code> is correctly accessed by the computer, returning the nucleotide motif value instead of the word 'MOTIF'.</p>
<div class="admonition circle-info">
<p class="admonition-title">Notes on naming variables</p>
<p>In these examples we are using uppercase words to represent our variable names but this is not neccessary. <code>bash</code> will accept any alphabetical letter (upper or lower case) as well as underscore characters in a variable name. This means that you can name your variables as a single letter, word, or a series of words joined together or separated by underscores with any casing. All of the following examples are valid (from the computer's point of view).</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nv">m</span><span class="o">=</span><span class="s2">"NNNNNNNNNN"</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="nv">M</span><span class="o">=</span><span class="s2">"NNNNNNNNNN"</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="nv">motif</span><span class="o">=</span><span class="s2">"NNNNNNNNNN"</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="nv">MOTIF</span><span class="o">=</span><span class="s2">"NNNNNNNNNN"</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="nv">mOtIf</span><span class="o">=</span><span class="s2">"NNNNNNNNNN"</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="nv">THE_NUCLEOTIDE_MOTIF_I_WANT_TO_USE_IN_MY_BASH_SCRIPT</span><span class="o">=</span><span class="s2">"NNNNNNNNNN"</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="nv">The_Nucleotide_Motif_I_Want_To_Use_In_My_Bash_Script</span><span class="o">=</span><span class="s2">"NNNNNNNNNN"</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="nv">TheNucleotideMotifIWantToUseInMyBashScript</span><span class="o">=</span><span class="s2">"NNNNNNNNNN"</span>
</code></pre></div>
</div>
<p>The most important thing is to make sure that your variables are informative when the code is read, and easy to distinguish from each other. Variable names are case sensitive so if you are choosing to use mixed case you must make sure you use the same case when recalling the variable. Also, there is a trade off between making variable names long enough to be informative and so long that they become hard to read and type.</p>
<p>Generally speaking, it is best to keep your varaibles very narrow in scope - that is, you might have a set of variables used in a particular block of code but if you move to a new block you create fresh variables for that task. Keeping variables specific to a purpose reduces the need to complicated naming schemes and avoids issues which might arise when you accidentally access the wrong variable.</p>
</div>
<div class="admonition circle-info">
<p class="admonition-title">Notes on accessing variables</p>
<p>When looking online for examples of variables being used, you might notice a few different styles used to call to a variable, such as</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$MOTIF</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">"</span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span><span class="s2">"</span>
</code></pre></div>
</div>
<p>Technically these all work, but there are subtle differences in how they are interpretted by the computer executing the command. In the first value, everything that follows the <kbd>$</kbd> symbol is interpreted as part of a variable name until some character is encountered to break the name. This will typically be either a space or a quotation mark. In the second example, only the name enclosed by the <kbd>{</kbd> and <kbd>}</kbd> symbols is considered the variable name.    </p>
<p>In these examples it makes no difference but there are sometimes cases where we need to use this notation to explicitly tell the computer where the variable name begins and ends rather than let it work this out itself. The third example is useful if we are trying to access a value with space characters inside it. As we have seen in our examples to date, the <code>bash</code> environment uses spaces to separate terms in a command, for example: </p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>grep NNNNNNNNNN SRR098026.fastq
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>|    |          |
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>|    |          |
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>|    |          Third term (file to search)
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>|    Second term (search text)
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>First term (command)
</code></pre></div>
</div>
<p>If for some reason we were searching for a piece of text with a space in it, like a binomial species name, the space between the genus and species name would be incorrectly interpreted as the bounds between terms, like so:  </p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="nv">SPECIES</span><span class="o">=</span><span class="s2">"Escherichia coli"</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>grep<span class="w"> </span><span class="si">${</span><span class="nv">SPECIES</span><span class="si">}</span><span class="w"> </span>target_document.txt
</code></pre></div>
</div>
<div class="admonition failure">
<p class="admonition-title">Interpretation</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>grep Escherichia coli target_document.txt
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>|    |           |    |
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>|    |           |    |
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>|    |           |    Fourth term (another file to search)
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>|    |           Third term (file to search)
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>|    Second term (search text)
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>First term (command)
</code></pre></div>
</div>
<p>In this instance, wrapping the variable name in quotation marks will expand the command differently:</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>grep<span class="w"> </span><span class="s2">"</span><span class="si">${</span><span class="nv">SPECIES</span><span class="si">}</span><span class="s2">"</span><span class="w"> </span>target_document.txt
</code></pre></div>
</div>
<div class="admonition success">
<p class="admonition-title">Interpretation</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>grep "Escherichia coli" target_document.txt
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>|    |                  |
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>|    |                  |
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>|    |                  Third term (file to search)
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>|    Second term (search text)
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>First term (command)
</code></pre></div>
</div>
</div>
<p>In the <code>bash</code> environment, variables persist until you reset your session. This means that when you log out and log back in, any variables you declare are gone. This is actually a really helpful feature as we do not end up with an ever-expanding list of variables to remember.</p>
<p>We can also overwrite a variable at any time, simply by making a new assignment statement:</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nv">MOTIF</span><span class="o">=</span><span class="s2">"NNNNNNNNNN"</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="nv">MOTIF</span><span class="o">=</span><span class="s2">"ATCGATCGAT"</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="nv">MOTIF</span><span class="o">=</span><span class="s2">"TTTTTTTTTT"</span>
</code></pre></div>
</div>
<p>Finally, if you ever try to access a variable which does not exist, <code>bash</code> will return a piece of text with no characters in it. This is helpful in that it means scripts don't outright crash if you use the wrong varaible name, but unfortunately they also won't do what you intended.</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">"The value of MOTIF is '</span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span><span class="s2">'"</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">"The value a nonexistant variable is '</span><span class="si">${</span><span class="nv">NON_EXISTANT_VARIABLE</span><span class="si">}</span><span class="s2">'"</span>
</code></pre></div>
</div>
<details class="success">
<summary>Output</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>The value of MOTIF is 'TTTTTTTTTT'
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>The value a nonexistant variable is ''
</code></pre></div>
</details>
<hr>
<h2 id="writing-loops-using-variables">Writing loops using variables<a class="headerlink" href="#writing-loops-using-variables" title="Permanent link">¶</a></h2>
<p>Loops are key to productivity improvements through automation as they allow us to write commands with repeat themselves a given number of times. This allows us to write a basic set of commands once and then let the computer apply the command(s) to some pre-defined set of values instead of typing out each iteration ourselves. This reduces the amount of typing we need to perform which among other things, reduces our likelihood of making errors.</p>
<p>A loop essentially acts as a wrapper around a block of code, taking a list of values and executing the code on each element of the list. They are invaluable when performing the same operation on groups of files, such as compressing or performing quality trimming. </p>
<p>When working with loops, we must make use of variables to identify pieces on information in the command which change with each iteration of the looped code block. We will use the example of <code>MOTIF</code> above to create a simple loop which searches through a file multiple times, looking for a different nucleotide sequence each time. The base command we will be using is:</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>grep<span class="w"> </span>-c<span class="w"> </span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span><span class="w"> </span>SRR098026.fastq
</code></pre></div>
</div>
<details class="success">
<summary>Output</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>0
</code></pre></div>
</details>
<p>This differs a little bit from the previous <code>grep</code> command. By adding the <code>-c</code> flag, we are making <code>grep</code> print the number of times the search sequence is counted in the file, rather than print the lines which contain the sequence. In practice this can be a useful feature in itself but we are mainly using it to keep the text printed by <code>grep</code> minimal.</p>
<p>The first loop we will write looks like this:</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="k">for</span><span class="w"> </span>MOTIF<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">"NNNNNNNN"</span><span class="w"> </span><span class="s2">"TGTTACAG"</span><span class="w"> </span><span class="s2">"CTCAAACC"</span><span class="p">;</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="k">do</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">    </span>grep<span class="w"> </span>-c<span class="w"> </span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span><span class="w"> </span>SRR098026.fastq
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="k">done</span>
</code></pre></div>
</div>
<details class="success">
<summary>Output</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>223
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>0
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>0
</code></pre></div>
</details>
<p>Let's look at the what each line and statement actually mean. The loop above can be broken down ito the following model:</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>for {VARIABLE} in {LIST OF VALUES};
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>do
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>    {code block}
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>done
</code></pre></div>
</div>
<p>The first line declares that we are running a <code>for</code> loop, which is one of the two major types of loops and the one most commonly used in command line scripting. Each time the loop runs (called an iteration), the next value in the list of values is assigned to the variable name then commands inside the loop are executed using that instance of the variable. Once the commands have executed, the value of <code>VARIABLE</code> is updated to the next value in the list and the process repeats.</p>
<p>The <code>do</code> and <code>done</code> words denote the start and end of the code block to be executed. For each value assigned to <code>VARIABLE</code> the commands between these keywords are executed in order, then once the <code>done</code> keyword is encountered the value of <code>VARIABLE</code> moves to the next value in the list.</p>
<p>Let's start writing the loop, going line by line. Once you have entered the first line of the loop you should notice that the shell prompt changes from <code>$</code> to <code>&gt;</code>. This change is to show us that we are currently writing an extension of the previous line and that the code will not execute if we were to press <kbd>Enter</kbd>. Only once you complete the loop declaration with the <code>done</code> keyword will the console execute the loop and return the prompt to the standard <code>$</code> value.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It's really easy to get stuck in a loop declaration if you forget to close off your loop block, or close any quotation marks in your code. At any time you can cancel your current command using <kbd>Ctrl</kbd>+<kbd>C</kbd>. This is helpful if you get stuck in a badly written loop, or notice an obvious error in a previous line which is going to prevent your loop for executing correctly.</p>
</div>
<div class="admonition question">
<p class="admonition-title">Exercise</p>
<p>Extend the loop above so that the value of the <code>${MOTIF}</code> variable is also printed to the console, so that we can track which nucleotide sequence each number corresponds to.</p>
<details class="circle-check">
<summary>Solution</summary>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="k">for</span><span class="w"> </span>MOTIF<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">"NNNNNNNNNN"</span><span class="w"> </span><span class="s2">"GCTGGCGNNN"</span><span class="w"> </span><span class="s2">"TTTTTTTTTT"</span><span class="p">;</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="k">do</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="w">    </span>grep<span class="w"> </span>-c<span class="w"> </span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span><span class="w"> </span>SRR098026.fastq
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="k">done</span>
</code></pre></div>
</div>
<details class="success">
<summary>Output</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>NNNNNNNN
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>223
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>TGTTACAG
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>0
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>CTCAAACC
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>0
</code></pre></div>
</details>
</details>
</div>
<hr>
<h2 id="extending-our-loop-with-multiple-variables">Extending our loop with multiple variables<a class="headerlink" href="#extending-our-loop-with-multiple-variables" title="Permanent link">¶</a></h2>
<p>Our loop is now functional, but it is quite narrow in scope. We're now going to try to expand it a little bit, so that it can be pointed to a file defined by a second variable. First up, we need to declare a variable that holds the value of one of the file names.</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="nv">FILENAME</span><span class="o">=</span><span class="s2">"SRR098026.fastq"</span>
</code></pre></div>
</div>
<div class="admonition question">
<p class="admonition-title">Exercise</p>
<p>Modify the loop code to point towards the value of <code>FILENAME</code> instead of the text <code>SRR098026.fastq</code>. Since it's not necesarily clear which file will be searched for these nucleotide sequences, also modify the loop to report the name of the file being searched, as well as the nucleotide sequence and its number of occurences in the input file</p>
<details class="circle-check">
<summary>Solution</summary>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="k">for</span><span class="w"> </span>MOTIF<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">"NNNNNNNNNN"</span><span class="w"> </span><span class="s2">"GCTGGCGNNN"</span><span class="w"> </span><span class="s2">"TTTTTTTTTT"</span><span class="p">;</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="k">do</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">FILENAME</span><span class="si">}</span><span class="s2">", nucleotide "</span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="w">    </span>grep<span class="w"> </span>-c<span class="w"> </span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">FILENAME</span><span class="si">}</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="k">done</span>
</code></pre></div>
</div>
<details class="success">
<summary>Output</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>SRR098026.fastq, nucleotide NNNNNNNNNN
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>134
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>SRR098026.fastq, nucleotide GCTGGCGNNN
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>1
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>SRR098026.fastq, nucleotide TTTTTTTTTT
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>0
</code></pre></div>
</details>
</details>
</div>
<p>If your code works as expected, you can now change the value of <code>FILENAME</code> to any valid file and it will provide the equivalent searches in the next file. Confirm this by changing your <code>FILENAME</code> value and repeating the loop.</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="nv">FILENAME</span><span class="o">=</span>SRR098026.fastq
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="k">for</span><span class="w"> </span>MOTIF<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">"NNNNNNNNNN"</span><span class="w"> </span><span class="s2">"GCTGGCGNNN"</span><span class="w"> </span><span class="s2">"TTTTTTTTTT"</span><span class="p">;</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="k">do</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">FILENAME</span><span class="si">}</span><span class="s2">", nucleotide "</span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="w">    </span>grep<span class="w"> </span>-c<span class="w"> </span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">FILENAME</span><span class="si">}</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="k">done</span>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="nv">FILENAME</span><span class="o">=</span>SRR097977.fastq
<a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="k">for</span><span class="w"> </span>MOTIF<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">"NNNNNNNNNN"</span><span class="w"> </span><span class="s2">"GCTGGCGNNN"</span><span class="w"> </span><span class="s2">"TTTTTTTTTT"</span><span class="p">;</span>
<a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="k">do</span>
<a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">FILENAME</span><span class="si">}</span><span class="s2">", nucleotide "</span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span>
<a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a><span class="w">    </span>grep<span class="w"> </span>-c<span class="w"> </span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">FILENAME</span><span class="si">}</span>
<a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a><span class="k">done</span>
</code></pre></div>
</div>
<details class="success">
<summary>Output</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>SRR098026.fastq, nucleotide NNNNNNNNNN
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>134
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a>SRR098026.fastq, nucleotide GCTGGCGNNN
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a>1
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a>SRR098026.fastq, nucleotide TTTTTTTTTT
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a>0
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a>SRR097977.fastq, nucleotide NNNNNNNNNN
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a>0
<a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a>SRR097977.fastq, nucleotide GCTGGCGNNN
<a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a>0
<a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a>SRR097977.fastq, nucleotide TTTTTTTTTT
<a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a>0
</code></pre></div>
</details>
<p>This is functional, but still quite messy. As a final exercise, we're going to write what is called a 'nested loop', a <code>for</code> loop within a <code>for</code> loop. The first (outer) loop will iterate through a set of fastq files and assign them to <code>FILENAME</code> and the second (inner) loop will perform the <code>grep</code> commands.</p>
<p>We can make use of a <em>wildcard</em> here to automatically pick up the names of all files which match a naming convention. In this case, by using the term <code>*.fastq</code>, the <code>bash</code> interpreter will read the directory and create a list of all files which end with the extension <code>.fastq</code>.</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="k">for</span><span class="w"> </span>FILENAME<span class="w"> </span><span class="k">in</span><span class="w"> </span>*.fastq<span class="p">;</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="k">do</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">"File: "</span><span class="si">${</span><span class="nv">FILENAME</span><span class="si">}</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span>MOTIF<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">"NNNNNNNNNN"</span><span class="w"> </span><span class="s2">"GCTGGCGNNN"</span><span class="w"> </span><span class="s2">"TTTTTTTTTT"</span><span class="p">;</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="w">    </span><span class="k">do</span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">"Nucleotide: "</span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="w">        </span>grep<span class="w"> </span>-c<span class="w"> </span><span class="si">${</span><span class="nv">MOTIF</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">FILENAME</span><span class="si">}</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="w">    </span><span class="k">done</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="k">done</span>
</code></pre></div>
</div>
<details class="success">
<summary>Output</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>File: SRR097977.fastq
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>Nucleotide: NNNNNNNNNN
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>0
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>Nucleotide: GCTGGCGNNN
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>0
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a>Nucleotide: TTTTTTTTTT
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a>0
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a>File: SRR098026.fastq
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>Nucleotide: NNNNNNNNNN
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a>134
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a>Nucleotide: GCTGGCGNNN
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a>1
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a>Nucleotide: TTTTTTTTTT
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a>0
</code></pre></div>
</details>
<hr>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer">
        
          
          <a href="../11_shell_manipulation/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 1.1 - Manipulating files in the shell">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                1.1 - Manipulating files in the shell
              </div>
            </div>
          </a>
        
        
          
          <a href="../13_shell_redirection/" class="md-footer__link md-footer__link--next" aria-label="Next: 1.3 - Working with redirection">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                1.3 - Working with redirection
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Intermediate Shell for Bioinformatics workshop material is licensed under a <a rel="noopener" target="_blank" href="https://www.gnu.org/licenses/gpl-3.0.en.html">GNU General Public License v3.0</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tracking", "navigation.sections", "navigation.expand", "navigation.top", "navigation.footer", "content.code.copy", "content.code.annotate", "navigation.tabs", "navigation.tabs.sticky"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>